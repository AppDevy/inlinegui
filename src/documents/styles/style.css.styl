// ====================================
// Imports

// nib: http://visionmedia.github.com/nib/
@import 'nib'

// Ubuntu Font
@import url(http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700,300italic,400italic,500italic,700italic)

// Font Awesome
@import url(/vendor/font-awesome/css/font-awesome.css)


// ====================================
// Variables

colorDisabledBackground = #999
colorCancelBackground = #ee1c25
colorSaveBackground = #8dc73f
colorPageBackground = #31afbe
colorSiteBackground = #e76267
colorInactiveBackground = colorDisabledBackground
colorBackground = #f4f3ee
colorForeground = #353c46
colorMenuForeground = white
colorLabelForeground = #363a43
colorBorder = #d8d7d2

colorLoaderSave = #5FE451
colorLoaderCancel = colorCancelBackground

fontFamilyHeader = Oswald, Ubuntu, "Droid Sans", "Helvetica Neue", Helvetica, Arial, sans-serif
fontFamilyBody = Ubuntu, "Droid Sans", "Helvetica Neue", Helvetica, Arial, sans-serif

heightNavbar = 40px
heightSwitch = 5px

paddingBodySides = 15px


// ====================================
// Styles

// ------------------------------------
// Structure

*
	// Make paddings be included within the width
	box-sizing border-box

body
	font-smooth: always
	-webkit-font-smoothing: antialiased
	color-profile: sRGB
	rendering-intent: auto
	text-rendering: optimizeLegibility
	font-family: fontFamilyBody

	color: colorForeground
	background: colorBackground

.loadbar
	z-index: 1000
	height: 2px
	position: fixed
	top: 0
	left: 0
	opacity: 0
	width: 0
	transition: all 0.5s ease-out
	animation: loadbar 5s linear infinite
	&.active
		opacity: 1
	background: colorLoaderSave
	&.cancel
		background: colorLoaderCancel

@keyframes loadbar
	0%
		width: 0
	50%
		width: 100%
		left: 0
	100%
		left: 100%

.toggle
.button
.link
	text-transform: uppercase
	cursor: pointer

.app
	font-size: 0rem
	line-height: 0rem
	opacity: 0
	position: relative
	padding-top: heightNavbar

	&.app-ready
		opacity: 1

	&.app-site
		nav.navbar
			background: colorSiteBackground
		.title
			color: colorSiteBackground
		.show-page
			display: none

	&.app-page
		nav.navbar
			background: colorPageBackground
		.title
			color: colorPageBackground
		.show-site
			display: none

.sitesbar

.editbar
	margin-bottom: -5px

.previewbar
	background: white
	width: 100%
	border: 0
	margin: 0
	padding: 0
	box-shadow: inset 0 0 10px black
	padding: 10px

.navbar
	user-select: none
	position: fixed
	top: 0
	left: 0
	width:  100%
	height: heightNavbar
	line-height: 100%
	color: colorMenuForeground
	z-index: 500

	.left
	.right
		display: inline-block
		position: absolute
		top: 0
		left: 0
		z-index: 300

	.left
		left: 0
	.right
		text-align: right
		left: none
		right: 0
		z-index: 299

	.toggle
	.button
	.link
	.status
		display: inline-block
		margin: 0 0.5em 0 0

	.link
		line-height: (heightNavbar)
		font-size:   (heightNavbar / 2)
		padding: 0 paddingBodySides
		font-family: fontFamilyHeader
		font-weight: 400
		position: relative

		&.link-site
			&, &:after
				background: colorSiteBackground
			&:before
				border: heightSwitch solid colorSiteBackground

		&.link-page
			&, &:after
				background: colorPageBackground
			&:before
				border: heightSwitch solid colorPageBackground

		&.link-site.active
		&.link-page
			&:before
				top: (heightNavbar - heightSwitch)
				left: 50%
			&:after
				height: (heightSwitch * 1.5)
				width: 40%
				bottom: 0
				left: 30%

		&.link-site:not(.active)
			&:before
				top: (heightNavbar / 2 - heightSwitch)
				right: (heightSwitch * -1)
			&:after
				width: (heightSwitch * 1.5)
				height: 40%
				right: 0
				top: 30%

		&:not(.disabled)
			&:hover
				text-decoration: underline
			&:hover
			&.active
				opacity: 1

		&.disabled
			opacity: 0
			cursor: default

		&:before
			width: 0
			height: 0
			//border-radius: 3px
			transform: rotate(45deg)
			content: ''
			position: absolute
			margin-left: (heightSwitch * -1)
			//box-shadow: 0 0 3px rgba(0, 0, 0, 0.5)

		&:after
			position: absolute
			display: block
			content: ''

	.status
		line-height: (heightNavbar)
		font-size: (heightNavbar / 3)
		font-weight: 500
		opacity: 0.90

	.button-save
	.button-cancel
		line-height: (heightNavbar / 12 * 8)
		font-size:   (heightNavbar / 12 * 4.5)
		padding: 0 (heightNavbar / 12 * 3)
		font-weight: 500
		border-radius: 3px
		border: 1px solid rgba(0,0,0, 0.2)
		border-top: 1px solid rgba(255,255,255, 0.1)
		border-left: 1px solid rgba(255,255,255, 0.1)
		text-shadow: 1px 1px 1px rgba(0,0,0, 0.2)
		min-width: 110px
		text-align: center
		transition: all 0.2s ease-out
		&:hover
			border: 1px solid rgba(0,0,0, 0.5)
			border-top: 1px solid rgba(255,255,255, 0.2)
			border-left: 1px solid rgba(255,255,255, 0.3)
			text-shadow: 1px 1px 1px rgba(0,0,0, 0.3)
		&.active
		&.disabled
			background: colorDisabledBackground
			cursor: default
		&.active
			.inactive-text
				display: none
			.active-text
				display: inline
		.active-text
			display: none

	.button-save
		background: colorSaveBackground
	.button-cancel
		background: colorCancelBackground

	.toggle
		text-align: center
		width: 40px
		line-height: (heightNavbar)
		font-size:   (heightNavbar / 12 * 4.5)
		padding: 0 (heightNavbar / 12 * 3)
		margin: 0

		.icon
			display: inline-block
			transition: all 0.2s ease-out

		&.active
			background: rgba(0,0,0, 0.1)

.mainbar
	font-size: 1rem
	line-height: 1rem
	width: 100%
	padding: 1em paddingBodySides
	transition: all 0.5s ease-out
	overflow: auto
	z-index: 400

	header
		margin-bottom: 0.5em

	.title
		font-size: 150%
		font-weight: 400
		text-transform: uppercase

	label
		color: colorLabelForeground
		font-weight: 500
		display: block
		margin: 0.2em 0

	.content-table
		width: 100%
		line-height: 200%
		font-size: 80%
		display: table
		border-collapse: collapse

		.content-row
			display: table-row
			color: black
			border-bottom: 1px solid rgba(0,0,0, 0.2)
			cursor: pointer

		.content-row-header
			font-weight: bold
			color: black
			border-bottom: 1px solid black

		.content-cell
			display: table-cell
			width: 30%

		&.files
			&.content-cell-name
				width: 50%
			&.content-cell-tags
			&.content-cell-date
				width: 25%

		&.sites
			&.content-cell-name
				width: 100%

		.content-buttons
			opacity: 0
			float: right

		.button:hover
		.content-cell-name:hover .content-name
			text-decoration: underline
			color: colorSiteBackground

		.content-row:hover
			font-weight: bold

		.content-row:hover
			.content-buttons
				opacity: 1
